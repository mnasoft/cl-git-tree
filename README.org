#+TITLE: cl-git-tree
#+AUTHOR: Mykola Matvyeyev
#+LANGUAGE: ru

* –û–ø–∏—Å–∞–Ω–∏–µ
cl-git-tree ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è git‚Äë–ª–æ–∫–∞—Ü–∏—è–º–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤,
–Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Common Lisp.  
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –ª–æ–∫–∞—Ü–∏–π (–ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏, GitHub, GitLab),
—Å—Ç—Ä–æ–∏—Ç—å URL –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ clone/unclone –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å
—É–¥–∞–ª—ë–Ω–Ω—ã–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ —á–µ—Ä–µ–∑ CLI –∏–ª–∏ Lisp API.

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: 0.3.9

* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–π –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ =*locations*=.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä—ë—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:
  - =:local= ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è git‚Äë—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.
  - =:github= ‚Äî –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitHub (—à–∞–±–ª–æ–Ω =git@github.com:username/=).
  - =:gitlab= ‚Äî –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitLab (—à–∞–±–ª–æ–Ω =git@gitlab.com:username/=).
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è URL –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ª–æ–∫–∞—Ü–∏–π.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞ =~/.git-tree/locations.lisp=.

** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏–∑ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π (=clone= / =unclone=).
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º–∏ —Ö–æ—Å—Ç–∞–º–∏ (=clone-remote= / =unclone-remote=).
- –°–æ–∑–¥–∞–Ω–∏–µ bare‚Äë—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–∞—Ö –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö (=remote create= / =remote-create=).
- –û—Ñ–ª–∞–π–Ω-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤: —É–ø–∞–∫–æ–≤–∫–∞ bare-–∫–ª–æ–Ω–æ–≤ –≤ =tar.xz= (=transport export=) –∏ –∏–º–ø–æ—Ä—Ç –Ω–∞ –¥—Ä—É–≥–æ–π –º–∞—à–∏–Ω–µ (=transport import=).

** Git-–æ–ø–µ—Ä–∞—Ü–∏–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö: =add=, =commit=.
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–µ—Ç–≤–µ–π: =pull=, =push=.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ remotes: =remote add=, =remote remove=, =remote readd=, =remote create=, =remote delete=.
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤: =audit status=.
- –ê—É–¥–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è: =audit dirty/staged/untracked=.

** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏: =locations list/show/add/edit/remove/save=.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è: =patterns=.
- –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ: =info=.
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö –∞–ª–∏–∞—Å–æ–≤: =aliases=.
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∫–æ –≤—Å–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º: =all= (pull ‚Üí add ‚Üí commit ‚Üí push).

* –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

** –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ú–æ–¥—É–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|---------|
| =cl-git-tree= | –û—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã. |
| =cl-git-tree/loc= | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏: –∫–ª–∞—Å—Å—ã =<location>=, =<provider>=, =<local>=, =<github>=, =<gitlab>= –∏ API (=add-location=, =find-location=, =repo-url= –∏ —Ç.–¥.). –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä =*locations*=. |
| =cl-git-tree/dispatch= | –î–∏—Å–ø–µ—Ç—á–µ—Ä CLI-–∫–æ–º–∞–Ω–¥, —Ä–µ–µ—Å—Ç—Ä =*commands*= –∏ —Ñ—É–Ω–∫—Ü–∏—è =dispatch-command=. |
| =cl-git-tree/cli= | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (—Ñ—É–Ω–∫—Ü–∏—è =main=), –≤—ã–≤–æ–¥ —Å–ø—Ä–∞–≤–∫–∏. |
| =cl-git-tree/fs= | –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π: –ø–æ–∏—Å–∫ git‚Äë—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (=find-git-repos=), –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (=git-repo-p=). |
| =cl-git-tree/git-utils= | –û–±—ë—Ä—Ç–∫–∏ –¥–ª—è git-–∫–æ–º–∞–Ω–¥: =git-run=, =current-branch=, =repo-remotes=. |
| =cl-git-tree/shell-utils= | –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤—ã–∑–æ–≤–∞ shell-–∫–æ–º–∞–Ω–¥ –∏ —Ä–∞–±–æ—Ç—ã —Å SSH. |
| =cl-git-tree/commands/*= | –ù–∞–±–æ—Ä –∏–∑ 20+ CLI-–∫–æ–º–∞–Ω–¥, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ. |

** –î–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ *locations* (hash-table) ‚Äî —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏.
- –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: =~/.git-tree/locations.lisp= ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º—ã =(add-location ...)= –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
- –§–∞–π–ª —à–∞–±–ª–æ–Ω–æ–≤: =~/.git-tree/file-patterns.lisp= ‚Äî —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

** –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- *–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã*: –º–µ—Ç–æ–¥—ã =remote-create=, =repo-add= –∏ —Ç.–¥. –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑—É—é—Ç—Å—è –ø–æ —Ç–∏–ø—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (=<local>=, =<github>=, =<gitlab>=).
- *–†–µ–µ—Å—Ç—Ä—ã –∫–æ–º–∞–Ω–¥*: CLI-–∫–æ–º–∞–Ω–¥—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ =*commands*= –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª–µ–π.
- *–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ*: =*locations*= –∏ =*commands*= –ø–æ–∑–≤–æ–ª—è—é—Ç –º–æ–¥—É–ª—è–º —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–±—è –∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –±–µ–∑ —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

* –£—Å—Ç–∞–Ω–æ–≤–∫–∞

** –ß–µ—Ä–µ–∑ Quicklisp
#+begin_src lisp
(ql:quickload "cl-git-tree")
#+end_src

** –ò–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞
#+begin_src bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ ~/quicklisp/local-projects/clisp/cl-git-tree/
cd ~/quicklisp/local-projects/clisp/cl-git-tree
sbcl --eval "(progn (require 'asdf) (asdf:load-system :cl-git-tree))"
#+end_src

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

** –ü—Ä–∏–º–µ—Ä—ã –≤ Lisp API

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ª–æ–∫–∞—Ü–∏–π –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL:
#+begin_src lisp
(cl-git-tree/loc:add-location "gh"
  :description "GitHub ‚Äî —à–∞–±–ª–æ–Ω –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤"
  :url-git "git@github.com:username/"
  :provider :github)

(cl-git-tree/loc:add-location "lc"
  :description "Local mirror"
  :url-git "/home/user/.git-tree/git/lc/"
  :provider :local)

;; –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
(cl-git-tree/loc:repo-url "gh" "cl-git-tree")
;; => "git@github.com:username/cl-git-tree.git"

;; –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –ª–æ–∫–∞—Ü–∏–∏
(cl-git-tree/loc:find-location "lc")
;; => #<CL-GIT-TREE/LOC:<LOCAL> id="lc" ...>

;; –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ª–æ–∫–∞—Ü–∏–π
(cl-git-tree/loc:all-location-keys)
;; => ("gh" "lc")
#+end_src

** –ü—Ä–∏–º–µ—Ä—ã –≤ CLI

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ SBCL:
#+begin_src bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
sbcl --eval "(progn (require 'asdf) (asdf:load-system :cl-git-tree) (cl-git-tree/cli:main '(\"prog\" \"--help\")))" --quit

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π
sbcl --eval "(progn (require 'asdf) (asdf:load-system :cl-git-tree) (cl-git-tree/cli:main '(\"prog\" \"locations\" \"list\")))" --quit

# –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é
sbcl --eval "(progn (require 'asdf) (asdf:load-system :cl-git-tree) (cl-git-tree/cli:main '(\"prog\" \"locations\" \"add\" \"myrepo\" \":url-git\" \"/tmp/repos\")))" --quit

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–∑ –ª–æ–∫–∞—Ü–∏–∏
sbcl --eval "(progn (require 'asdf) (asdf:load-system :cl-git-tree) (cl-git-tree/cli:main '(\"prog\" \"clone\" \"gh\" \"cl-git-tree\")))" --quit
#+end_src

** –û—Ñ–ª–∞–π–Ω-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç (–∞—Ä—Ö–∏–≤—ã tar.xz)

–°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π, —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏):
#+begin_src bash
git tree transport export               # –∫—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥: –∞—Ä—Ö–∏–≤—ã –≤ :url-xz
git tree transport export --verbose     # –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏ –ø—Ä–æ–ø—É—Å–∫–æ–≤
git tree transport export --days 7      # –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏ –∫–æ–º–º–∏—Ç–∞
git tree transport clean                # —É–¥–∞–ª–∏—Ç—å *.tar.xz –∏–∑ :url-xz –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
#+end_src

–ò–º–ø–æ—Ä—Ç –∞—Ä—Ö–∏–≤–æ–≤ –Ω–∞ –¥—Ä—É–≥–æ–π –º–∞—à–∏–Ω–µ (–∞—Ä—Ö–∏–≤—ã —É–∂–µ –ª–µ–∂–∞—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö :url-xz):
#+begin_src bash
git tree transport import               # —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å *.tar.xz –≤ bare-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞ :url-git
#+end_src

*** –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. *Export*: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Å `:url-xz` —Å–æ–∑–¥–∞—ë—Ç tar.xz –∞—Ä—Ö–∏–≤—ã –∏–∑ —á–∏—Å—Ç—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (–±–µ–∑ –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π).
   - –§–∏–ª—å—Ç—Ä –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–º–∏—Ç–∞: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –Ω–µ –ø–æ–∑–¥–Ω–µ–µ 30 –¥–Ω–µ–π –Ω–∞–∑–∞–¥.
   - –ê—Ä—Ö–∏–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –≥–æ–ª—ã–π git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (=git clone --bare=) –±–µ–∑ —Ä–∞–±–æ—á–∏—Ö —Ñ–∞–π–ª–æ–≤.
   - –†–µ–∂–∏–º `--verbose` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–ø—É—Å–∫–æ–≤ (—Å—Ç–∞—Ä—ã–µ –∫–æ–º–º–∏—Ç—ã, –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Ç.–¥.).
   - –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤—ã–≤–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω—ã–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è:
     #+begin_example
     üì¶ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (--days 30)...
     ‚úÖ repo-name. –ê—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–Ω: repo-name.tar.xz ‚Üí /path/to/xz/
     ‚úÖ other-repo. –ê—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–Ω: other-repo.tar.xz ‚Üí /path/to/xz/
     === –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–æ: 2 –∏–∑ 3 ===
     #+end_example

2. *Import*: –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ —Å `:url-xz` –∏ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã –≤ bare-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ `:url-git`.
   - –°—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–æ–≤—ã–º (—É–¥–∞–ª—è–µ—Ç—Å—è –∏ –∫–ª–∞–¥—ë—Ç—Å—è —Å–≤–µ–∂–∏–π –∞—Ä—Ö–∏–≤).

3. *Clean*: —É–¥–∞–ª—è–µ—Ç –≤—Å–µ `*.tar.xz` –∞—Ä—Ö–∏–≤—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ `:url-xz` –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
   - –ü–æ–ª–µ–∑–Ω–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ.

** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–¢–∏–ª—å–¥–∞ –≤ –ø—É—Ç—è—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (~/ ‚Üí $HOME) –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–∫–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:
- –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª =~/.git-tree/locations.lisp= —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ñ–æ—Ä–º—ã =(add-location ...)=:
#+begin_src lisp
(in-package :cl-git-tree/loc)

(add-location "gh"
  :description "GitHub"
  :url-git "git@github.com:mnasoft/"
  :provider :github)

(add-location "lc"
  :description "Local mirror"
  :url-git "~/.git-tree/git/lc/"
  :url-xz "~/.git-tree/xz/lc/"
  :provider :local)
#+end_src

- –§—É–Ω–∫—Ü–∏—è =cl-git-tree:load-config= –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã.

* –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö CLI-–∫–æ–º–∞–Ω–¥:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| =add= | –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –∏–Ω–¥–µ–∫—Å |
| =clone= | –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ |
| =commit= | –°–¥–µ–ª–∞—Ç—å git commit –≤–æ –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö |
| =pull= | –í—ã–ø–æ–ª–Ω–∏—Ç—å git pull –≤–æ –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö |
| =push= | –í—ã–ø–æ–ª–Ω–∏—Ç—å git push –≤–æ –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö |
| =all= | –í—ã–ø–æ–ª–Ω–∏—Ç—å pull ‚Üí add ‚Üí commit ‚Üí push |
| =remote= | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ remote (add/remove/readd/create/delete/list) |
| =locations= | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏ (list/show/add/edit/remove/save) |
| =patterns= | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ |
| =aliases= | –ü–æ–∫–∞–∑–∞—Ç—å git-–∞–ª–∏–∞—Å—ã |
| =info= | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π |
| =transport= | –ê—Ä—Ö–∏–≤–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –≤ tar.xz / –∏–º–ø–æ—Ä—Ç / –æ—á–∏—Å—Ç–∫–∞ |
| =audit= | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (status/dirty/staged/untracked) |
| =help= | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É |
| =version= | –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é |

** –ü–æ–¥–∫–æ–º–∞–Ω–¥—ã remote

| –ü–æ–¥–∫–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|---------|
| =list= | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ |
| =add LOC-KEY= | –î–æ–±–∞–≤–∏—Ç—å remote –≤–æ –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ |
| =remove LOC-KEY= | –£–¥–∞–ª–∏—Ç—å remote –∏–∑ –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ |
| =readd LOC-KEY= | –ó–∞–Ω–æ–≤–æ –¥–æ–±–∞–≤–∏—Ç—å remote –≤–æ –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ |
| =create LOC-KEY [--private]= | –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ |
| =delete LOC-KEY= | –£–¥–∞–ª–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ |

* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤:
#+begin_src bash
sbcl --eval "(progn (require 'asdf) (asdf:load-system :cl-git-tree-tests) (uiop:symbol-call :cl-git-tree/tests :run-tests))" --quit
#+end_src

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: =Did 122 checks. Pass: 122 (100%). Skip: 0. Fail: 0.=

** –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

| –ú–æ–¥—É–ª—å | –§–∞–π–ª —Ç–µ—Å—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----------|---------|
| Locations | =test-location.lisp= | API –ª–æ–∫–∞—Ü–∏–π: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è URL, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ |
| Dispatcher | =test-dispatch.lisp= | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥, –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ |
| Commands | =test-all-commands.lisp= | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö CLI-–∫–æ–º–∞–Ω–¥ –∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥ |
| Shell Utils | =test-shell-utils.lisp= | –ü–∞—Ä—Å–∏–Ω–≥ SSH URL, —Ä–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ |
| FS | =test-fs.lisp= | –ü–æ–∏—Å–∫ git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã |
| Git Utils | =test-git-utils.lisp= | –û–±—ë—Ä—Ç–∫–∏ –¥–ª—è git-–∫–æ–º–∞–Ω–¥ |
| Config | =test-global.lisp=, =test-patterns.lisp= | –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ |
| Commands | =test-commands.lisp= | CLI-–∫–æ–º–∞–Ω–¥—ã |
| Workspace | =workspace/*.lisp= | –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ workspace-–æ–±—ä–µ–∫—Ç–∞–º–∏ |

* –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
#+begin_src
cl-git-tree/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ cli.lisp                          # CLI —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.lisp                       # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ package.lisp                      # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ commands/                         # 20+ CLI-–∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clone.lisp, unclone.lisp      # –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clone-remote.lisp             # –£–¥–∞–ª—ë–Ω–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ remote-create.lisp            # –°–æ–∑–¥–∞–Ω–∏–µ bare-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ add.lisp, commit.lisp         # Git —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pull.lisp, push.lisp          # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ remote-*.lisp                 # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ remotes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ locations.lisp                # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ patterns.lisp                 # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ status.lisp                   # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è audit
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ aliases.lisp, all.lisp        # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ dispatch/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dispatcher.lisp               # –†–µ–µ—Å—Ç—Ä –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ loc/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ defclass.lisp                 # –ö–ª–∞—Å—Å—ã <location>, <workspace>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ provider.lisp                 # –ö–ª–∞—Å—Å—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ location.lisp                 # API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞—Ü–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ methods/                      # –ú–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ remote-create.lisp
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.lisp
‚îÇ   ‚îú‚îÄ‚îÄ fs/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fs.lisp                       # –£—Ç–∏–ª–∏—Ç—ã —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.lisp
‚îÇ   ‚îú‚îÄ‚îÄ git-utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ git-utils.lisp                # –û–±—ë—Ä—Ç–∫–∏ –¥–ª—è git
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.lisp
‚îÇ   ‚îú‚îÄ‚îÄ shell-utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core.lisp, ssh-utils.lisp     # Shell-–æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.lisp
‚îÇ   ‚îú‚îÄ‚îÄ config/                           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ defaults.lisp
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ file-patterns.lisp
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.lisp
‚îÇ   ‚îî‚îÄ‚îÄ global/
‚îÇ       ‚îî‚îÄ‚îÄ git-global.lisp               # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ git
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test-location.lisp                # –¢–µ—Å—Ç—ã –¥–ª—è –ª–æ–∫–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ test-global.lisp                  # –¢–µ—Å—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ workspace/                        # –¢–µ—Å—Ç—ã –¥–ª—è workspace
‚îÇ   ‚îú‚îÄ‚îÄ test-*.lisp                       # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ run.lisp                          # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ cl-git-tree.asd                       # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã ASDF
‚îú‚îÄ‚îÄ cl-git-tree-tests.asd                 # –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ README.org                            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
#+end_src

** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ =src/commands/your-command.lisp=:
#+begin_src lisp
(defpackage :cl-git-tree/commands/your-command
  (:use :cl :cl-git-tree/loc :cl-git-tree/dispatch)
  (:export cmd-your-command))

(in-package :cl-git-tree/commands/your-command)

(defun cmd-your-command (&rest args)
  "–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã."
  (format t "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã your-command —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: ~A~%" args))

;; –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—É –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–µ
(eval-when (:load-toplevel :execute)
  (register-command "your-command" #'cmd-your-command "–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã"))
#+end_src

2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª—è –≤ =cl-git-tree.asd=:
#+begin_src lisp
(:file "commands/your-command")
#+end_src

3. –ö–æ–º–∞–Ω–¥–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã.

** –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
#+begin_src bash
cd /home/mna/quicklisp/local-projects/clisp/cl-git-tree
sbcl --eval "(progn (require 'asdf) (asdf:load-system :cl-git-tree-tests) (uiop:symbol-call :cl-git-tree/tests :run-tests))" --quit
#+end_src

* –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π GNU GPL v3 –∏–ª–∏ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏.
